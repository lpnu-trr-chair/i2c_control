[eng](README-ENG.mg)

# Керівництво користувача #

## Завантаження вихідних кодів ##
Вихідні коди проекту зберігаються на сайті github за адресою [https://github.com/lpnu-trr-chair/i2c_control.cydsn](https://github.com/lpnu-trr-chair/i2c_control.cydsn). 

![user-manual-1](pic\user-manual-1.jpg)

Завантажити вихідні коди можна двома способами.

1. За допомогою браузера у вигляді zip архіву. Для цього необхідно натиснути кнопку "Clone or download" - > "Download ZIP" та розархівувати отриманий файл.

2. Із командної стрічки, користуючись попередньо встановленю системою управління версіями GIT. Для цього в командній стрічці набираємо

`git clone https://github.com/lpnu-trr-chair/i2c_control.cydsn.git`



## Компіляція та прошивання ##
Прошивка програмного модуля здійснюється за допомогою середовища розробки Cypress PSoC Creator 4.2. Встановити його можна, завантаживши інсталятор із сайту  https://www.cypress.com/products/psoc-creator-integrated-design-environment-ide . Перед прошивкою програмний модуль необхідно скомпілювати.  Для цього відкриваємо файл проекту та  вибираємо в меню програми команди "Build" -> "Build i2c_control"

![user-manual-2](pic\user-manual-2.jpg)

У вікні "Output" з'являються логи компіляції та повідомлення про її успішне завершення

![user-manual-3](pic\user-manual-3.jpg)

Для прошивання програмного модуля під'єднуємо плату PSoC4 за допомогою USB кабелю до комп'ютера та вибираємо в меню "Debug" -> "Select target and program..." або натискаємо в панелі інструментів відповідну іконку

![user-manual-4](pic\user-manual-4.jpg)

Якщо процес прошивки завершився без проблем, то у вікні "Output" з'явиться повідомлення

![user-manual-5](pic\user-manual-5.jpg)



## Схема підключення ##

| Сигнал        | Порт  | Вивід мікросхеми | Примітки |
| ------------- | ----- | ---------------- | -------- |
| i2c port: scl | P4[0] | 20               |          |
| i2c port: sda | P4[1] | 21               |          |
| UART port: rx | P0[4] | 28               |          |
| UART port: tx | P0[5] | 29               |          |
| + 5 B         |       |                  |          |
| GRND          |       |                  |          |

![user-manual-6](pic\user-manual-6.jpg)

## Команди управління ##

`Команда Мікросхема АЦП Положення регулятора`
` |       |          |   |`
` |       |          |   +- 00 Максимальне значення напруги` 
` |       |          |   +- ff Мінімальне значення напруги`
` |       |          |`
` |       |          +- 01 АЦП 1 (лівий на друкованій платі)` 
` |       |          +- 03 АЦП 2 (правий на друкованій платі)` 
` |       |`
` |       +- 2c 00`
` |       +- 2d 01`
` |       +- 2e 10`
` |       +- 2f 11`
` |`
` +- s - надсилання даних`
` +- r - читання даних`

 Приклад

 s 2c 01 00 - встановити максимальне значення напруги на АЦП 1 мікросхеми 01 
 r 2c 01 - прочитати значення напруги на АЦП 1 мікросхеми 01 

## Встановлення та робота із програмами терміналу ##

Описані вище команди передаються на плату управління за допомогою спеціалізованих програм-терміналів. Найбільш зручними в користування є Docklight та Realterm. Перед початком роботи із терміналом, необхідно визначити до якого послідовного порта під'єднаний вхідний UART PSoC 4. Для цього відкриваємо "Диспетчер пристроїв", шукаємо у ньому розділ "Порти (COM та LPT)", а у ньому пристрій із назвою "KitProg USB-UART". Біля нього у дужках вказаний відповідний порт - у нашому випадку COM7

![user-manual-8](pic\user-manual-8.jpg)

### Docklight ###


### Realterm ###


### 
